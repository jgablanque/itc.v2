<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Improved Web App with Payroll</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <style>
    body {
      font-family: "Arial", sans-serif;
      margin: 0;
      padding: 0;
    }
    .hidden { display: none; }
    .container {
      margin: 20px auto;
      max-width: 600px;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 10px;
      background: #f9f9f9;
    }
    .feature-card {
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: #fff;
    }
    .feature-category {
      margin-top: 30px;
      font-size: 18px;
      font-weight: bold;
      border-bottom: 2px solid #ccc;
      padding-bottom: 5px;
    }
    #resultsLog {
      margin-top: 20px;
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 5px;
      background: #f1f1f1;
    }
    #resultsLog h3 {
      margin-top: 0;
    }
    .error {
      color: red;
      font-size: 12px;
    }
    /* Mobile responsiveness */
    @media only screen and (max-width: 600px) {
      .container {
        width: 90%;
        padding: 10px;
      }
      .feature-card {
        padding: 10px;
      }
    }
  </style>
</head>
<body>

<div id="navbar" class="w3-bar w3-black hidden">
  <a href="#" id="logoutBtn" class="w3-bar-item w3-button w3-right" onclick="logOut()">Log Out</a>
</div>

<!-- Login Section -->
<div id="loginSection" class="container">
  <h2>Log In</h2>
  <form id="loginForm">
    <input class="w3-input w3-margin-bottom" type="text" id="username" placeholder="Username" required>
    <input class="w3-input w3-margin-bottom" type="password" id="password" placeholder="Password" required>
    <button type="button" class="w3-button w3-blue w3-block" onclick="logIn()">Log In</button>
  </form>
  <button class="w3-button w3-green w3-block" onclick="toggleSignUp()">Sign Up</button>
</div>

<!-- Sign-Up Section -->
<div id="signUpSection" class="container hidden">
  <h2>Sign Up</h2>
  <form id="signUpForm">
    <input class="w3-input w3-margin-bottom" type="text" id="signupUsername" placeholder="Username" required>
    <input class="w3-input w3-margin-bottom" type="password" id="signupPassword" placeholder="Password" required>
    <input class="w3-input w3-margin-bottom" type="password" id="signupConfirmPassword" placeholder="Confirm Password" required>
    <button type="button" class="w3-button w3-green w3-block" onclick="signUp()">Sign Up</button>
  </form>
  <button class="w3-button w3-gray w3-block" onclick="toggleLogin()">Back to Login</button>
</div>

<!-- Main Content (visible after login) -->
<div id="mainContent" class="hidden">
  <div class="container">
    <h2>Welcome, User!</h2>
    <p>Select and use a feature below:</p>

    <!-- Conversion Features -->
    <div class="feature-category">Unit Conversions</div>
    <div class="feature-card">
      <h3>Celsius to Fahrenheit</h3>
      <input type="number" id="cToFInput" class="w3-input" placeholder="Enter Celsius">
      <button class="w3-button w3-teal w3-block" onclick="convertCtoF()">Convert</button>
      <div id="cToFError" class="error"></div>
      <div id="cToFResult" class="w3-margin-top"></div> <!-- Result display -->
    </div>
    <div class="feature-card">
      <h3>Fahrenheit to Celsius</h3>
      <input type="number" id="fToCInput" class="w3-input" placeholder="Enter Fahrenheit">
      <button class="w3-button w3-teal w3-block" onclick="convertFtoC()">Convert</button>
      <div id="fToCError" class="error"></div>
      <div id="fToCResult" class="w3-margin-top"></div> <!-- Result display -->
    </div>

    <!-- Income Tax Calculator -->
    <div class="feature-category">Income Tax Calculator</div>
    <div class="feature-card">
      <h3>Calculate Income Tax</h3>
      <input type="number" id="incomeInput" class="w3-input" placeholder="Enter Income">
      <button class="w3-button w3-teal w3-block" onclick="calculateTax()">Calculate</button>
      <div id="incomeError" class="error"></div>
      <div id="incomeResult" class="w3-margin-top"></div> <!-- Result display -->
    </div>

    <!-- Factorial -->
    <div class="feature-category">Factorial (While Loop)</div>
    <div class="feature-card">
      <h3>Find Factorial</h3>
      <input type="number" id="factorialInput" class="w3-input" placeholder="Enter Number">
      <button class="w3-button w3-teal w3-block" onclick="findFactorial()">Calculate</button>
      <div id="factorialError" class="error"></div>
      <div id="factorialResult" class="w3-margin-top"></div> <!-- Result display -->
    </div>

    <!-- Payroll Feature -->
    <div class="feature-category">Payroll System</div>
    <div class="feature-card">
      <h3>Payroll Calculator</h3>
      <input type="number" id="salaryInput" class="w3-input" placeholder="Enter Gross Salary">
      <input type="number" id="deductionsInput" class="w3-input" placeholder="Enter Deductions">
      <button class="w3-button w3-teal w3-block" onclick="calculatePayroll()">Calculate Payroll</button>
      <div id="payrollError" class="error"></div>
      <div id="payrollResult" class="w3-margin-top"></div> <!-- Result display -->
    </div>
  </div>
</div>

<script>
  // Login and Sign-Up Logic
  const loginSection = document.getElementById('loginSection');
  const signUpSection = document.getElementById('signUpSection');
  const mainContent = document.getElementById('mainContent');
  const navbar = document.getElementById('navbar');

  function logIn() {
    let username = document.getElementById('username').value;
    let password = document.getElementById('password').value;
    if (username === "" || password === "") {
      alert("Please enter both username and password.");
      return;
    }
    alert('Login successful!');
    loginSection.classList.add('hidden');
    mainContent.classList.remove('hidden');
    navbar.classList.remove('hidden');
  }

  function signUp() {
    let username = document.getElementById('signupUsername').value;
    let password = document.getElementById('signupPassword').value;
    let confirmPassword = document.getElementById('signupConfirmPassword').value;
    if (password !== confirmPassword) {
      alert("Passwords do not match.");
      return;
    }
    if (username === "" || password === "") {
      alert("Please fill all fields.");
      return;
    }
    alert('Sign-up successful! You can now log in.');
    toggleLogin();
  }

  function logOut() {
    alert('Logged out successfully.');
    mainContent.classList.add('hidden');
    navbar.classList.add('hidden');
    loginSection.classList.remove('hidden');
  }

  function toggleSignUp() {
    loginSection.classList.add('hidden');
    signUpSection.classList.remove('hidden');
  }

  function toggleLogin() {
    signUpSection.classList.add('hidden');
    loginSection.classList.remove('hidden');
  }

  // Payroll Calculation
  function calculatePayroll() {
    let salary = parseFloat(document.getElementById('salaryInput').value);
    let deductions = parseFloat(document.getElementById('deductionsInput').value);

    if (isNaN(salary) || salary <= 0 || isNaN(deductions) || deductions < 0) {
      document.getElementById('payrollError').textContent = "Please enter valid salary and deductions.";
      return;
    }

    let netSalary = salary - deductions;
    document.getElementById('payrollResult').textContent = `Net Salary: $${netSalary.toFixed(2)}`;
    document.getElementById('payrollError').textContent = "";
  }

  // Other Calculation Features (for conversion, tax, factorial, etc.)...

</script>
</body>
</html>
